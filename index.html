<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGL2 Fundamentals</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color:ghostwhite;
        }

        #canvas {
            float: left;
            margin: 10px;;
            padding: 0;
            border: 1px solid lightgray;
        }

        #info {
            float: left;
            padding: 10px;
        }
    </style>
</head>
<body>
    <script id="vs" type="x-shader/x-vertex"># version 300 es
        in vec2 a_position;
        in vec4 a_color;

        uniform float u_pointsize;
        uniform vec2 u_resolution;

        out vec4 v_color;

        void main()
        {
            // Dada uma posição a_position no intervalo [0, w] e [0, h], converte ela
            // para o intervalo [-1, 1], que o WebGL espera
            vec2 clipspace_coords = (2.0 * (a_position / u_resolution)) - 1.0;

            // Flipa as coordenadas para que a origem (0, 0) fique no canto superior
            // esquerdo
            vec2 flipped_coords = vec2(clipspace_coords.x, -clipspace_coords.y);

            gl_Position = vec4(flipped_coords, 0, 1);
            gl_PointSize = u_pointsize;

            // Passa a cor para o frag. shader
            v_color = a_color;
        }
    </script>

    <script id="fs" type="x-shader/x-fragment">#version 300 es
        precision highp float;

        in vec4 v_color;

        out vec4 outColor;
        void main()
        {
            outColor = v_color;
        }
    </script>

    <canvas id="canvas" width="300" height="300"></canvas>
    <div id="info">
        <div id="mouse_position"></div>
        <div id="frame_time"></div>
        <div id="fps"></div>
    </div>

    <script src="initShaders.js"></script>
    <script src="main.js"></script>
</body>
</html>
